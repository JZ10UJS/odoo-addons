<openerp>
    <data>
        <record model="ir.ui.menu" id="base.menu_sale_report">
            <field name="groups_id" eval="[(4, ref('mycrm.mycrm_sale_manager'))]"/>
        </record>

        <!--这两个delete首次发布时，需要取消注释-->
        <!--<delete id="sale.sale_order_see_all" model="ir.rule"/>-->
        <!--<delete id="crm.crm_rule_all_lead" model="ir.rule"/>-->

        <record model="ir.rule" id="mycrm_sale_order">
            <field name="name">MyCRM sale order</field>
            <field name="model_id" ref="sale.model_sale_order"/>
            <field name="domain_force">[('team_id.user_id','=',user.id)]</field>
            <field name="groups" eval="[(4, ref('mycrm.mycrm_sale_manager')),(4, ref('base.group_sale_salesman_all_leads'))]"/>
        </record>
        <record model="ir.rule" id="mycrm.sale_order_admin">
            <field name="name">MyCRM sale order admin</field>
            <field name="model_id" ref="sale.model_sale_order"/>
            <field name="domain_force">[(1,'=',1)]</field>
            <field name="groups" eval="[(4, ref('mycrm.mycrm_sale_admin')),(4, ref('base.group_sale_manager'))]"/>
        </record>


        <record model="ir.rule" id="mycrm_crm_lead">
            <field name="name">MyCRM crm lead</field>
            <field name="model_id" ref="crm.model_crm_lead"/>
            <field name="domain_force">[('team_id.user_id','=',user.id)]</field>
            <field name="groups" eval="[(4, ref('mycrm.mycrm_sale_manager')),(4, ref('base.group_sale_salesman_all_leads'))]"/>
        </record>
        <record model="ir.rule" id="mycrm.crm_lead_admin">
            <field name="name">MyCRM crm lead admin</field>
            <field name="model_id" ref="crm.model_crm_lead"/>
            <field name="domain_force">[(1,'=',1)]</field>
            <field name="groups" eval="[(4, ref('mycrm.mycrm_sale_admin')),(4, ref('base.group_sale_manager'))]"/>
        </record>
    </data>
</openerp>